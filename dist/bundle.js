!function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Em.Component.extend({classNameBindings:["b"],name:null,b:function(){return"b-"+this.get("name")}.property("name")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Em.Object.extend({positionX:0,positionY:0,width:1,height:1,containsPoint:function(e,t){var n=this.get("positionX"),o=n+this.get("width"),a=this.get("positionY"),r=a+this.get("height");return n<=e&&o>e&&a<=t&&r>t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Em.Object.extend({positionX:0,positionY:0,angle:0,angleRadians:function(){return this.get("angle")*Math.PI/180}.property("angle"),normalizedAngle:function(){return(this.get("angle")+360)%360}.property("angle"),stepLength:1,actionQueue:Em.Object.extend({queue:[],add:function(e){var t=this.get("queue"),n={action:function(){e().then(function(){var e=t.objectAt(t.indexOf(n)+1);e&&e.action(),t.shiftObject()})}};t.get("length")||n.action(),t.pushObject(n)},clear:function(){this.get("queue").clear()}}).create(),isBusy:function(){return!!this.get("actionQueue.queue.length")}.property("actionQueue.queue.length"),rotateLeft:function(){this.get("actionQueue").add(this._rotateLeft.bind(this))},rotateRight:function(){this.get("actionQueue").add(this._rotateRight.bind(this))},move:function(){this.get("actionQueue").add(this._move.bind(this))},stop:function(){this.get("actionQueue").clear()},_move:function(){var e=this,t=this.get("stepLength"),n=this.get("angleRadians"),o=this.get("positionX"),a=this.get("positionY"),r=o+Math.round(t*Math.cos(n)),l=a+Math.round(t*Math.sin(n));return new Em.RSVP.Promise(function(t){var n=setInterval(function(){e.setProperties({positionX:e.get("positionX")+(r-o)/20,positionY:e.get("positionY")+(l-a)/20}),Math.abs(r-e.get("positionX"))<.1&&Math.abs(l-e.get("positionY"))<.1&&(e.setProperties({positionX:r,positionY:l}),clearInterval(n),t())},30)})},_rotateLeft:function(){var e=this,t=this.get("angle")-90;return new Em.RSVP.Promise(function(n){var o=setInterval(function(){e.set("angle",e.get("angle")-3),e.get("angle")<=t&&(e.set("angle",t),clearInterval(o),n())},30)})},_rotateRight:function(){var e=this,t=this.get("angle")+90;return new Em.RSVP.Promise(function(n){var o=setInterval(function(){e.set("angle",e.get("angle")+3),e.get("angle")>=t&&(e.set("angle",t),clearInterval(o),n())},30)})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Em.Application.create()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a);t.default=r.default.extend({name:"game-over-screen",tagName:"section"})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a);t.default=r.default.extend({name:"rover-controls",rover:null,actionSequence:"LLMRMRMMMLMR",actions:{submitSequence:function(){var e=this.get("rover");this.get("actionSequence").split("").forEach(function(t){switch(t.toUpperCase()){case"L":e.rotateLeft();break;case"R":e.rotateRight();break;case"M":e.move()}})}}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a);t.default=r.default.extend({name:"rover-stats",rover:null})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a);t.default=r.default.extend({name:"rectangular-plateau",plateau:null,onInsert:function(){var e=this.get("plateau");this.$().css({top:e.get("positionY")+"em",left:e.get("positionX")+"em",width:e.get("width")+"em",height:e.get("height")+"em"})}.on("didInsertElement")})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a);t.default=r.default.extend({name:"rover-block",rover:null,plateau:null,onPositionChange:function(){var e=this.get("rover.positionX"),t=this.get("rover.positionY"),n=this.get("rover.angle");this.$().css({transform:"translate("+e+"em, "+t+"em) rotate("+n+"deg)"})}.observes("rover.positionX","rover.positionY","rover.angle").on("didInsertElement")})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a);t.default=r.default.extend({name:"viewport-block",rover:null,plateau:null,width:10,height:10,onInsert:function(){this.$().css({width:this.get("width")+"em",height:this.get("height")+"em"})}.on("didInsertElement")})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=o(a),l=n(1),s=o(l);t.default=Em.Controller.extend({rover:r.default.create({positionX:2,positionY:4}),plateau:s.default.create({positionX:1,positionY:2,width:6,height:5}),isGameOver:!1,onRoverPositionChange:function(){var e=this.get("rover");this.get("plateau").containsPoint(e.get("positionX"),e.get("positionY"))||(e.stop(),this.set("isGameOver",!0))}.observes("rover.positionX","rover.positionY"),actions:{restart:function(){this.set("isGameOver",!1),this.get("rover").setProperties({positionX:2,positionY:3,angle:0})}}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),r=o(a);t.default=r.default.Router.map(function(){})},function(e,t){},function(e,t){Ember.TEMPLATES.application=Ember.HTMLBars.template({id:"bCFYpSSz",block:'{"statements":[["append",["unknown",["outlet"]],false]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"application"}})},function(e,t){Ember.TEMPLATES["components/game-over-screen"]=Ember.HTMLBars.template({id:"AzEDr49r",block:'{"statements":[["open-element","h1",[]],["dynamic-attr","class",["concat",[["unknown",["b"]],"__title"]]],["flush-element"],["text","Game over"],["close-element"],["text","\\n"],["open-element","div",[]],["dynamic-attr","class",["concat",[["unknown",["b"]],"__description"]]],["flush-element"],["text","Youâ€™ve lost communication with the rover"],["close-element"],["text","\\n"],["open-element","button",[]],["dynamic-attr","class",["concat",[["unknown",["b"]],"__restart-button"]]],["modifier",["action"],[["get",[null]],["get",["restart"]]]],["flush-element"],["text","Restart"],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"components/game-over-screen"}})},function(e,t){Ember.TEMPLATES["components/rover-controls"]=Ember.HTMLBars.template({id:"y0UzYxJs",block:'{"statements":[["open-element","form",[]],["dynamic-attr","class",["concat",[["unknown",["b"]],"__form"]]],["modifier",["action"],[["get",[null]],"submitSequence"],[["on"],["submit"]]],["flush-element"],["text","\\n    "],["append",["helper",["input"],null,[["class","value","pattern","disabled"],[["helper",["concat"],[["get",["b"]],"__form__input"],null],["get",["actionSequence"]],"[LRMlrm]*",["helper",["if"],[["get",["rover","isBusy"]],true,false],null]]]],false],["text","\\n    "],["open-element","button",[]],["dynamic-attr","class",["concat",[["unknown",["b"]],"__form__submit-button"]]],["static-attr","type","submit"],["dynamic-attr","disabled",["helper",["if"],[["get",["rover","isBusy"]],true,false],null],null],["flush-element"],["text","Go"],["close-element"],["text","\\n"],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"components/rover-controls"}})},function(e,t){Ember.TEMPLATES["components/rover-stats"]=Ember.HTMLBars.template({id:"YUQjMAg5",block:'{"statements":[["open-element","div",[]],["dynamic-attr","class",["concat",[["unknown",["b"]],"__content"]]],["flush-element"],["text","\\n"],["block",["unless"],[["get",["rover","isBusy"]]],null,0],["close-element"],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","        Position: ["],["append",["unknown",["rover","positionX"]],false],["text",", "],["append",["unknown",["rover","positionY"]],false],["text",", "],["append",["unknown",["rover","normalizedAngle"]],false],["text","]\\n"]],"locals":[]}],"hasPartials":false}',meta:{moduleName:"components/rover-stats"}})},function(e,t){Ember.TEMPLATES["components/rover-block"]=Ember.HTMLBars.template({id:"2k2kJ81X",block:'{"statements":[],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"components/rover-block"}})},function(e,t){Ember.TEMPLATES["components/viewport-block"]=Ember.HTMLBars.template({id:"XuHWIcWH",block:'{"statements":[["append",["helper",["rectangular-plateau"],null,[["plateau"],[["get",["plateau"]]]]],false],["text","\\n\\n"],["append",["helper",["rover-block"],null,[["rover","plateau"],[["get",["rover"]],["get",["plateau"]]]]],false],["text","\\n"]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"components/viewport-block"}})},function(e,t){Ember.TEMPLATES.index=Ember.HTMLBars.template({id:"gFEhaL5v",block:'{"statements":[["block",["unless"],[["get",["isGameOver"]]],null,1,0]],"locals":[],"named":[],"yields":[],"blocks":[{"statements":[["text","\\n    "],["append",["helper",["game-over-screen"],null,[["restart"],[["helper",["action"],[["get",[null]],"restart"],null]]]],false],["text","\\n\\n"]],"locals":[]},{"statements":[["text","\\n    "],["append",["helper",["rover-controls"],null,[["rover"],[["get",["rover"]]]]],false],["text","\\n\\n    "],["append",["helper",["viewport-block"],null,[["rover","plateau"],[["get",["rover"]],["get",["plateau"]]]]],false],["text","\\n\\n    "],["append",["helper",["rover-stats"],null,[["rover"],[["get",["rover"]]]]],false],["text","\\n\\n"]],"locals":[]}],"hasPartials":false}',meta:{moduleName:"index"}})},function(e,t){e.exports=Ember},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(3),r=o(a),l=n(11),s=o(l);n(12);var i=n(4),u=o(i),c=n(5),d=o(c),f=n(6),p=o(f),m=n(7),h=o(m),g=n(8),v=o(g),b=n(9),_=o(b),M=n(10),x=o(M),P=n(1),E=o(P),k=n(2),y=o(k);n(13),n(14),n(15),n(16),n(17),n(18),n(19),window.App=r.default,r.default.Router=s.default,r.default.GameOverScreenComponent=u.default,r.default.RoverControlsComponent=d.default,r.default.RoverStatsComponent=p.default,r.default.RectangularPlateauComponent=h.default,r.default.RoverBlockComponent=v.default,r.default.ViewportBlockComponent=_.default,r.default.IndexController=x.default,r.default.Plateau=E.default,r.default.Rover=y.default}]);